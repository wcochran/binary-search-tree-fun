<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf=8" />

<title>BST</title>

<!--
http://webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html
-->

<style>
  body {
    border: 0;
    margin: 0;
    overflow: hidden;
    background-color : gray;
  }
  canvas {
    width: 100vw;
    height: 100vh;
    display: block;
  }
</style>

<script src="bst.js"></script>
<script src="matrix.js"></script>
<script src="bst-view.js"></script>
<script src="debug/webgl-debug.js"></script>
<script>
  function go() {
     var canvas = document.getElementById("bstcanvas");
     var success = bstView.init(canvas);
     if (success) {
        var size = 40;
	var keys = [];
	for (var i = 0; i < size; i++)
	    keys.push(i);
	for (var i = 0; i < keys.length; i++) {
	    var j = Math.floor(Math.random()*keys.length);
	    var tmp = keys[i];
	    keys[i] = keys[j];
	    keys[j] = tmp;
	}
        var tree = null;
	for (var i = 0; i < keys.length; i++)
        tree = insert(tree, keys[i]);

	bstView.setTree(tree);
        bstView.display();

        window.addEventListener('resize', resizeCanvas, false);

        function resizeCanvas() {
           bstView.display();
        }

     } else {
       alert("Failed to initialize WebGL app.");
     }
  }
</script>

</head>
<body onload="go()">

<canvas id="bstcanvas"></canvas>

</body>
</html>
